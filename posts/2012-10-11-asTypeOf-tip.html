<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>8c6794b6.github.io - Tip using 'asTypeOf'</title>
    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon.ico" type="image/ico">
    <link rel="stylesheet" type="text/css" href="../css/style.css">
    <link rel="stylesheet" type="text/css" href="../css/hk-tango.css">
    <link rel="alternate" type="application/rss+xml" title="8c6794b6" href="../rss.xml">
  </head>
  <body>
    <div>
      <div id="header">
        <div id="header_contents">
          <div id="header_left">
            <a href="../">8c6794b6.github.io</a>
          </div>
          <div id="navigation">
            <a href="../index.html">Home</a>
            <a href="../archive.html">Archive</a>
            <a href="../rss.xml">RSS</a>
          </div>
        </div>
      </div>
      <div id="content">
        <h1>Tip using 'asTypeOf'</h1>
<div id="post_date">
  <strong>October 11, 2012</strong>
</div>
<div class="post_tags">
  <strong>Tags: </strong><a href="../tags/haskell.html">haskell</a>, <a href="../tags/tips.html">tips</a>
</div>

<div id="post_body">
<p>I found myself an idiot for such a long time I was not aware of this use of <code>asTypeOf</code> function.</p>
<pre class="sourceCode literate literatehaskell"><code class="sourceCode literatehaskell"><span class="ot">&gt;</span> <span class="kw">module</span> <span class="dt">AsTypeOf</span> <span class="kw">where</span></code></pre>
<p>When we have a type with multiple varialbles, e.g. <code>Either</code>:</p>
<pre class="sourceCode literate literatehaskell"><code class="sourceCode literatehaskell"><span class="ot">&gt;</span> rightChar <span class="fu">=</span> <span class="dt">Right</span> <span class="ch">'a'</span></code></pre>
<p>In ghci:</p>
<pre><code>ghci&gt; :t rightChar
rightChar :: Either a Char</code></pre>
<p>We are yet not sure for remaining type variables. In above case, we still do not have a clue to fix the type of <code>Left</code> constructor.</p>
<p>One way to fix the type used for <code>Left</code> is wrapping multiple values in single list:</p>
<pre class="sourceCode literate literatehaskell"><code class="sourceCode literatehaskell"><span class="ot">&gt;</span> rightCharInList <span class="fu">=</span> [rightChar, <span class="dt">Left</span> <span class="dt">True</span>]</code></pre>
<p>Showing the type:</p>
<pre><code>ghci&gt; :t rightCharInList
rightCharInList :: [Either Bool Char]</code></pre>
<p>Or another, using <code>asTypeOf</code> instead of list:</p>
<pre class="sourceCode literate literatehaskell"><code class="sourceCode literatehaskell"><span class="ot">&gt;</span> rightChar' <span class="fu">=</span> rightChar <span class="ot">`asTypeOf`</span> <span class="dt">Left</span> <span class="dt">True</span></code></pre>
<p>Now the type for <code>Left</code> constructor is fixed, value is identical to <code>rightChar</code>:</p>
<pre><code>ghci&gt; rightChar'
Right 'a'
ghci&gt; :t rightChar'
rightChar' :: Either Bool Char</code></pre>
</div>

      </div>
      <div id="footer">
        <div id="footer_content">
          <p>
            <a href="../index.html">Home</a> |
            <a href="../archive.html">Archive</a> |
            <a href="../rss.xml">RSS</a>
          </p>
          Site contents licensed under
          <a href="http://creativecommons.org/licenses/by/3.0/">
            CC Attribution 3.0
          </a>
        </div>
      </div>
    </div>
  </body>
</html>
